<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Diagram</title>
    <!-- Include Mermaid.js library -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .comment-box {
            margin-top: 30px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
        .comment-box h3 {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="mermaid">
        graph TD
    Internet((Internet)) -->|WAN| Firewall[Firewall]
    Firewall --> Router[Router]
    Router --> Switch[Core Switch]
    
    subgraph "Hetzner Server Infrastructure"
        UnraidServer[Unraid Server]:::server
        WebServer[Web Servers<br/>Nginx, Apache]:::server
        DatabaseServer[Databases<br/>MySQL, PostgreSQL, MongoDB]:::server
        ContainerHost[Containers<br/>Docker, Kubernetes]:::server
        AIServer[AI/ML Server<br/>TensorFlow, PyTorch, LLaMA]:::server
        DataScienceServer[Data Science Server<br/>Jupyter, RStudio]:::server
        BackupServer[Backup Server<br/>Nextcloud, Rsync]:::server
        MediaServer[Media Server<br/>Jellyfin]:::server
        MonitoringServer[Monitoring<br/>Prometheus, Grafana]:::server
        GitHub[GitHub Repository<br/>Source Control]:::server
        LoadBalancer[Load Balancer<br/>HAProxy]:::server
        CacheServer[Cache Server<br/>Redis, Memcached]:::server
        MessageQueue[Message Queue<br/>RabbitMQ, Kafka]:::server
        
        subgraph "Data Governance"
            DataCatalog[Data Catalog<br/>Apache Atlas]:::data
            DataQuality[Data Quality<br/>Great Expectations]:::data
            DataSecurity[Data Security<br/>Apache Ranger]:::data
            DataLineage[Data Lineage<br/>OpenLineage]:::data
            
            DataCatalog --> DataQuality
            DataQuality --> DataSecurity
            DataSecurity --> DataLineage
            DataLineage --> BackupServer
        end
        
        UnraidServer --> WebServer
        UnraidServer --> DatabaseServer
        UnraidServer --> ContainerHost
        UnraidServer --> AIServer
        UnraidServer --> DataScienceServer
        UnraidServer --> BackupServer
        UnraidServer --> MediaServer
        UnraidServer --> MonitoringServer
        UnraidServer --> DataCatalog
        UnraidServer --> GitHub
        UnraidServer --> LoadBalancer
        UnraidServer --> CacheServer
        UnraidServer --> MessageQueue
        GitHub --> DataScienceServer
    end
    
    subgraph "Network Services"
        DHCP[DHCP Server]:::network
        DNS[DNS Server]:::network
        VPN[VPN Server<br/>WireGuard]:::network
        NTP[NTP Server]:::network
        LDAP[LDAP Server]:::network
        
        DHCP --> DNS
        DNS --> VPN
        VPN --> NTP
        NTP --> LDAP
        LDAP --> DHCP
    end
    
    subgraph "End Devices"
        Workstations[Workstations]:::enddevices
        MobileDevices[Mobile Devices]:::enddevices
        IoTDevices[IoT Devices]:::enddevices
        
        Workstations --> MobileDevices
        Workstations --> IoTDevices
        MobileDevices --> IoTDevices
    end

    subgraph "Security"
        IDS[Intrusion Detection System]:::security
        IPS[Intrusion Prevention System]:::security
        SIEM[Security Information and Event Management]:::security
        
        IDS --> IPS
        IPS --> SIEM
        SIEM --> MonitoringServer
    end

    Switch --> UnraidServer
    Switch --> DNS
    Switch --> Workstations
    Switch --> IDS
    Workstations --> Router
    MobileDevices --> Router
    IoTDevices --> Router
    VPN --> Router

    classDef server fill:#ffe066,stroke:#333,stroke-width:2px;
    classDef network fill:#66b3ff,stroke:#333,stroke-width:2px;
    classDef data fill:#99cc99,stroke:#333,stroke-width:2px;
    classDef enddevices fill:#ff9966,stroke:#333,stroke-width:2px;
    classDef security fill:#ff6666,stroke:#333,stroke-width:2px;

        class UnraidServer,WebServer,DatabaseServer,ContainerHost,AIServer,DataScienceServer,BackupServer,MediaServer,MonitoringServer,DataCatalog,DataQuality,DataSecurity,GitHub server;
        class DHCP,DNS,VPN network;
        class Workstations,MobileDevices,IoTDevices enddevices;
    </div>

    <!-- Comment Box -->
    <div class="comment-box">
        <h3>Network Diagram Overview</h3>
        <p><strong>Hetzner Server Infrastructure:</strong> Hosts various servers including Unraid, web, databases, containers, AI/ML, data science, backup, media, monitoring, and GitHub repository for source control.</p>
        <p><strong>Data Governance:</strong> Consists of Data Catalog, Data Quality, and Data Security servers that interact with the backup server for data governance.</p>
        <p><strong>Network Services:</strong> Includes DHCP, DNS, and VPN services that manage the network.</p>
        <p><strong>End Devices:</strong> Comprises workstations, mobile devices, and IoT devices connected through the core network.</p>
    </div>
</html>
</html>
